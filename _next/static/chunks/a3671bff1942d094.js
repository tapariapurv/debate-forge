(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81866,e=>{e.v({actions:"TopBar-module__LYwH0W__actions",avatar:"TopBar-module__LYwH0W__avatar",header:"TopBar-module__LYwH0W__header",logoutBtn:"TopBar-module__LYwH0W__logoutBtn",title:"TopBar-module__LYwH0W__title",userProfile:"TopBar-module__LYwH0W__userProfile",username:"TopBar-module__LYwH0W__username"})},57981,e=>{"use strict";var r=e.i(43476),t=e.i(58652),a=e.i(81866);function o({title:e}){let{user:o,logout:d}=(0,t.useAuth)();return(0,r.jsxs)("header",{className:`${a.default.header} glass`,children:[(0,r.jsx)("div",{className:a.default.title,children:(0,r.jsx)("h1",{children:e})}),(0,r.jsxs)("div",{className:a.default.actions,children:[(0,r.jsxs)("div",{className:a.default.userProfile,children:[(0,r.jsx)("img",{src:o?.photoURL||"https://ui-avatars.com/api/?name=User",alt:"Profile",className:a.default.avatar}),(0,r.jsx)("span",{className:a.default.username,children:o?.displayName||"User"})]}),(0,r.jsx)("button",{onClick:d,className:a.default.logoutBtn,children:"Sign Out"})]})]})}e.s(["default",()=>o])},85001,e=>{"use strict";var r=e.i(21052);e.i(36180);var t=e.i(98925);let a="projects",o=async(e,o)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,a),{userId:e,...o,createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error creating project:",e),e}},d=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching projects:",e),e}},s=async e=>{try{let o=(0,t.doc)(r.db,a,e),d=await (0,t.getDoc)(o);if(d.exists())return{id:d.id,...d.data()};throw Error("Project not found")}catch(e){throw console.error("Error fetching project:",e),e}},l=async(e,o)=>{try{let d=(0,t.doc)(r.db,a,e);await (0,t.updateDoc)(d,{...o,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating project:",e),e}},c=async(e,o)=>{try{let d=(0,t.collection)(r.db,a,e,"arguments");return{id:(await (0,t.addDoc)(d,{...o,createdAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error adding argument:",e),e}},i=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a,e,"arguments"),(0,t.orderBy)("createdAt","asc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error getting arguments:",e),e}},n=async(e,o)=>{try{let d=(0,t.doc)(r.db,a,e,"arguments",o);await (0,t.deleteDoc)(d)}catch(e){throw console.error("Error deleting argument:",e),e}},u="mun_profiles",m=async e=>{try{let a=(0,t.doc)(r.db,u,e),o=await (0,t.getDoc)(a);if(o.exists())return o.data();return null}catch(e){throw console.error("Error fetching MUN profile:",e),e}},h=async(e,a)=>{try{let o=(0,t.doc)(r.db,u,e);await (0,t.setDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()},{merge:!0})}catch(e){throw console.error("Error updating MUN profile:",e),e}},_="resolutions",p=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,_),{userId:e,...a,preambulatory:[],operative:[],createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error creating resolution:",e),e}},j=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,_),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching resolutions:",e),e}},f=async e=>{try{let a=(0,t.doc)(r.db,_,e),o=await (0,t.getDoc)(a);if(o.exists())return{id:o.id,...o.data()};throw Error("Resolution not found")}catch(e){throw console.error("Error fetching resolution:",e),e}},g=async(e,a)=>{try{let o=(0,t.doc)(r.db,_,e);await (0,t.updateDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating resolution:",e),e}},x=async e=>{try{let a=(0,t.doc)(r.db,_,e);await (0,t.deleteDoc)(a)}catch(e){throw console.error("Error deleting resolution:",e),e}},w="knowledge",y=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,w),{userId:e,...a,createdAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error adding knowledge item:",e),e}},b=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,w),(0,t.where)("userId","==",e),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching knowledge items:",e),e}},v=async e=>{try{await (0,t.deleteDoc)((0,t.doc)(r.db,w,e))}catch(e){throw console.error("Error deleting knowledge item:",e),e}};e.s(["addArgument",0,c,"addKnowledgeItem",0,y,"createProject",0,o,"createResolution",0,p,"deleteArgument",0,n,"deleteKnowledgeItem",0,v,"deleteResolution",0,x,"getArguments",0,i,"getKnowledgeItems",0,b,"getMUNProfile",0,m,"getProject",0,s,"getResolution",0,f,"getUserProjects",0,d,"getUserResolutions",0,j,"updateMUNProfile",0,h,"updateProject",0,l,"updateResolution",0,g])},15171,e=>{e.v({actions:"CreateProjectModal-module__0uxquW__actions",cancelBtn:"CreateProjectModal-module__0uxquW__cancelBtn",closeBtn:"CreateProjectModal-module__0uxquW__closeBtn",formGroup:"CreateProjectModal-module__0uxquW__formGroup",header:"CreateProjectModal-module__0uxquW__header",modal:"CreateProjectModal-module__0uxquW__modal",overlay:"CreateProjectModal-module__0uxquW__overlay",row:"CreateProjectModal-module__0uxquW__row",slideIn:"CreateProjectModal-module__0uxquW__slideIn",submitBtn:"CreateProjectModal-module__0uxquW__submitBtn"})},67408,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(15171);let o=["MUN","Parliamentary Debate","School Debate","Lincoln-Douglas Debate","Policy Debate","Other"],d=["For / Proposition","Against / Opposition","Neutral Research","Judge / Adjudicator"];function s({onClose:e,onCreate:s,creating:l}){let[c,i]=(0,t.useState)(""),[n,u]=(0,t.useState)(o[0]),[m,h]=(0,t.useState)(d[0]);return(0,r.jsx)("div",{className:a.default.overlay,children:(0,r.jsxs)("div",{className:`${a.default.modal} glass`,children:[(0,r.jsxs)("div",{className:a.default.header,children:[(0,r.jsx)("h2",{children:"Start New Debate Project"}),(0,r.jsx)("button",{onClick:e,className:a.default.closeBtn,children:"Ã—"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.trim()&&s({topic:c,type:n,role:m})},className:a.default.form,children:[(0,r.jsxs)("div",{className:a.default.formGroup,children:[(0,r.jsx)("label",{htmlFor:"topic",children:"Debate Topic / Motion"}),(0,r.jsx)("input",{id:"topic",type:"text",value:c,onChange:e=>i(e.target.value),placeholder:"e.g., THW ban single-use plastics",required:!0,autoFocus:!0})]}),(0,r.jsxs)("div",{className:a.default.row,children:[(0,r.jsxs)("div",{className:a.default.formGroup,children:[(0,r.jsx)("label",{htmlFor:"type",children:"Format"}),(0,r.jsx)("select",{id:"type",value:n,onChange:e=>u(e.target.value),children:o.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:a.default.formGroup,children:[(0,r.jsx)("label",{htmlFor:"role",children:"Your Role"}),(0,r.jsx)("select",{id:"role",value:m,onChange:e=>h(e.target.value),children:d.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:a.default.actions,children:[(0,r.jsx)("button",{type:"button",onClick:e,className:a.default.cancelBtn,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:a.default.submitBtn,disabled:l,children:l?"Creating...":"Create Project"})]})]})]})})}e.s(["default",()=>s])},5729,e=>{e.v({card:"ProjectCard-module__wLMQLG__card",footer:"ProjectCard-module__wLMQLG__footer",header:"ProjectCard-module__wLMQLG__header",role:"ProjectCard-module__wLMQLG__role",roleLabel:"ProjectCard-module__wLMQLG__roleLabel",title:"ProjectCard-module__wLMQLG__title",type:"ProjectCard-module__wLMQLG__type"})},40621,e=>{"use strict";var r=e.i(43476),t=e.i(22016),a=e.i(5729);function o({project:e}){let o=e.updatedAt?.seconds?new Date(1e3*e.updatedAt.seconds).toLocaleDateString():"Just now";return(0,r.jsxs)(t.default,{href:`/dashboard/workspace/view?id=${e.id}`,className:a.default.card,children:[(0,r.jsxs)("div",{className:a.default.header,children:[(0,r.jsx)("span",{className:a.default.type,children:e.type}),(0,r.jsx)("span",{className:a.default.date,children:o})]}),(0,r.jsx)("h3",{className:a.default.title,children:e.topic}),(0,r.jsxs)("div",{className:a.default.footer,children:[(0,r.jsx)("span",{className:a.default.roleLabel,children:"Role:"}),(0,r.jsx)("span",{className:a.default.role,children:e.role})]})]})}e.s(["default",()=>o])},87121,e=>{e.v({actionBtn:"dashboard-module__XABe8G__actionBtn",actionsGrid:"dashboard-module__XABe8G__actionsGrid",card:"dashboard-module__XABe8G__card",cardHeader:"dashboard-module__XABe8G__cardHeader",content:"dashboard-module__XABe8G__content",createBtn:"dashboard-module__XABe8G__createBtn",emptyState:"dashboard-module__XABe8G__emptyState",grid:"dashboard-module__XABe8G__grid",linkBtn:"dashboard-module__XABe8G__linkBtn",muted:"dashboard-module__XABe8G__muted",projectList:"dashboard-module__XABe8G__projectList",projectsSection:"dashboard-module__XABe8G__projectsSection",sideColumn:"dashboard-module__XABe8G__sideColumn",welcomeSection:"dashboard-module__XABe8G__welcomeSection"})},55614,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(58652),o=e.i(85001),d=e.i(57981),s=e.i(67408),l=e.i(40621),c=e.i(87121);function i(){let{user:e}=(0,a.useAuth)(),[i,n]=(0,t.useState)([]),[u,m]=(0,t.useState)(!1),[h,_]=(0,t.useState)(!1),[p,j]=(0,t.useState)(!0),f=async()=>{if(e)try{let r=await (0,o.getUserProjects)(e.uid);n(r)}catch(e){console.error("Failed to load projects",e)}finally{j(!1)}};(0,t.useEffect)(()=>{f()},[e]);let g=async r=>{_(!0);try{await (0,o.createProject)(e.uid,r),m(!1),f()}catch(e){console.error("Failed to create project",e),alert("Error creating project. Please try again.")}finally{_(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{title:"Dashboard"}),(0,r.jsxs)("div",{className:c.default.content,children:[(0,r.jsxs)("div",{className:c.default.welcomeSection,children:[(0,r.jsxs)("h2",{children:["Welcome back, ",e?.displayName?.split(" ")[0]]}),(0,r.jsx)("p",{children:"Your research and preparation hub is ready."})]}),(0,r.jsxs)("div",{className:c.default.grid,children:[(0,r.jsxs)("div",{className:`${c.default.card} glass ${c.default.projectsSection}`,children:[(0,r.jsxs)("div",{className:c.default.cardHeader,children:[(0,r.jsx)("h3",{children:"Recent Projects"}),(0,r.jsx)("button",{className:c.default.createBtn,onClick:()=>m(!0),children:"+ Create New Project"})]}),p?(0,r.jsx)("p",{className:c.default.muted,children:"Loading projects..."}):i.length>0?(0,r.jsx)("div",{className:c.default.projectList,children:i.map(e=>(0,r.jsx)(l.default,{project:e},e.id))}):(0,r.jsxs)("div",{className:c.default.emptyState,children:[(0,r.jsx)("p",{children:"No projects yet."}),(0,r.jsx)("button",{className:c.default.linkBtn,onClick:()=>m(!0),children:"Start your first debate"})]})]}),(0,r.jsxs)("div",{className:c.default.sideColumn,children:[(0,r.jsxs)("div",{className:`${c.default.card} glass`,children:[(0,r.jsx)("h3",{children:"Quick Actions"}),(0,r.jsxs)("div",{className:c.default.actionsGrid,children:[(0,r.jsx)("button",{className:c.default.actionBtn,onClick:()=>m(!0),children:"New Debate"}),(0,r.jsx)("button",{className:c.default.actionBtn,children:"MUN Research"}),(0,r.jsx)("button",{className:c.default.actionBtn,children:"Practice Speech"})]})]}),(0,r.jsxs)("div",{className:`${c.default.card} glass`,children:[(0,r.jsx)("h3",{children:"Knowledge Vault"}),(0,r.jsx)("p",{className:c.default.muted,children:"0 Articles Saved"})]})]})]})]}),u&&(0,r.jsx)(s.default,{onClose:()=>m(!1),onCreate:g,creating:h})]})}e.s(["default",()=>i])}]);