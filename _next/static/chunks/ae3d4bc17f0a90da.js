(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81866,e=>{e.v({actions:"TopBar-module__LYwH0W__actions",avatar:"TopBar-module__LYwH0W__avatar",header:"TopBar-module__LYwH0W__header",logoutBtn:"TopBar-module__LYwH0W__logoutBtn",title:"TopBar-module__LYwH0W__title",userProfile:"TopBar-module__LYwH0W__userProfile",username:"TopBar-module__LYwH0W__username"})},57981,e=>{"use strict";var r=e.i(43476),t=e.i(58652),a=e.i(81866);function o({title:e}){let{user:o,logout:l}=(0,t.useAuth)();return(0,r.jsxs)("header",{className:`${a.default.header} glass`,children:[(0,r.jsx)("div",{className:a.default.title,children:(0,r.jsx)("h1",{children:e})}),(0,r.jsxs)("div",{className:a.default.actions,children:[(0,r.jsxs)("div",{className:a.default.userProfile,children:[(0,r.jsx)("img",{src:o?.photoURL||"https://ui-avatars.com/api/?name=User",alt:"Profile",className:a.default.avatar}),(0,r.jsx)("span",{className:a.default.username,children:o?.displayName||"User"})]}),(0,r.jsx)("button",{onClick:l,className:a.default.logoutBtn,children:"Sign Out"})]})]})}e.s(["default",()=>o])},85001,e=>{"use strict";var r=e.i(21052);e.i(36180);var t=e.i(98925);let a="projects",o=async(e,o)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,a),{userId:e,...o,createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error creating project:",e),e}},l=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching projects:",e),e}},s=async e=>{try{let o=(0,t.doc)(r.db,a,e),l=await (0,t.getDoc)(o);if(l.exists())return{id:l.id,...l.data()};throw Error("Project not found")}catch(e){throw console.error("Error fetching project:",e),e}},c=async(e,o)=>{try{let l=(0,t.doc)(r.db,a,e);await (0,t.updateDoc)(l,{...o,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating project:",e),e}},d=async(e,o)=>{try{let l=(0,t.collection)(r.db,a,e,"arguments");return{id:(await (0,t.addDoc)(l,{...o,createdAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error adding argument:",e),e}},i=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a,e,"arguments"),(0,t.orderBy)("createdAt","asc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error getting arguments:",e),e}},n=async(e,o)=>{try{let l=(0,t.doc)(r.db,a,e,"arguments",o);await (0,t.deleteDoc)(l)}catch(e){throw console.error("Error deleting argument:",e),e}},u="mun_profiles",m=async e=>{try{let a=(0,t.doc)(r.db,u,e),o=await (0,t.getDoc)(a);if(o.exists())return o.data();return null}catch(e){throw console.error("Error fetching MUN profile:",e),e}},h=async(e,a)=>{try{let o=(0,t.doc)(r.db,u,e);await (0,t.setDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()},{merge:!0})}catch(e){throw console.error("Error updating MUN profile:",e),e}},g="resolutions",p=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,g),{userId:e,...a,preambulatory:[],operative:[],createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error creating resolution:",e),e}},f=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,g),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching resolutions:",e),e}},y=async e=>{try{let a=(0,t.doc)(r.db,g,e),o=await (0,t.getDoc)(a);if(o.exists())return{id:o.id,...o.data()};throw Error("Resolution not found")}catch(e){throw console.error("Error fetching resolution:",e),e}},_=async(e,a)=>{try{let o=(0,t.doc)(r.db,g,e);await (0,t.updateDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating resolution:",e),e}},v=async e=>{try{let a=(0,t.doc)(r.db,g,e);await (0,t.deleteDoc)(a)}catch(e){throw console.error("Error deleting resolution:",e),e}},w="knowledge",x=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,w),{userId:e,...a,createdAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error adding knowledge item:",e),e}},j=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,w),(0,t.where)("userId","==",e),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching knowledge items:",e),e}},N=async e=>{try{await (0,t.deleteDoc)((0,t.doc)(r.db,w,e))}catch(e){throw console.error("Error deleting knowledge item:",e),e}};e.s(["addArgument",0,d,"addKnowledgeItem",0,x,"createProject",0,o,"createResolution",0,p,"deleteArgument",0,n,"deleteKnowledgeItem",0,N,"deleteResolution",0,v,"getArguments",0,i,"getKnowledgeItems",0,j,"getMUNProfile",0,m,"getProject",0,s,"getResolution",0,y,"getUserProjects",0,l,"getUserResolutions",0,f,"updateMUNProfile",0,h,"updateProject",0,c,"updateResolution",0,_])},26963,e=>{e.v({actions:"page-module__3lyYvW__actions",card:"page-module__3lyYvW__card",container:"page-module__3lyYvW__container",formGroup:"page-module__3lyYvW__formGroup",grid:"page-module__3lyYvW__grid",input:"page-module__3lyYvW__input",saveBtn:"page-module__3lyYvW__saveBtn",textarea:"page-module__3lyYvW__textarea"})},43964,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(58652),o=e.i(85001),l=e.i(57981),s=e.i(26963);function c(){let{user:e}=(0,a.useAuth)(),[c,d]=(0,t.useState)({country:"",facts:"",policy:"",allies:"",conflicts:""}),[i,n]=(0,t.useState)(!0),[u,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{!async function(){if(e)try{let r=await (0,o.getMUNProfile)(e.uid);r&&d(e=>({...e,...r}))}catch(e){console.error("Error loading profile",e)}finally{n(!1)}}()},[e]);let h=(e,r)=>{d(t=>({...t,[e]:r}))},g=async()=>{m(!0);try{await (0,o.updateMUNProfile)(e.uid,c),alert("Profile saved successfully!")}catch(e){alert("Error saving profile")}finally{m(!1)}};return i?(0,r.jsx)("div",{className:"loading",children:"Loading profile..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{title:"Country Profile Manager"}),(0,r.jsx)("div",{className:s.default.container,children:(0,r.jsxs)("div",{className:`${s.default.card} glass`,children:[(0,r.jsxs)("div",{className:s.default.formGroup,children:[(0,r.jsx)("label",{children:"Assigned Country"}),(0,r.jsx)("input",{value:c.country,onChange:e=>h("country",e.target.value),placeholder:"e.g. United Kingdom",className:s.default.input})]}),(0,r.jsxs)("div",{className:s.default.grid,children:[(0,r.jsxs)("div",{className:s.default.formGroup,children:[(0,r.jsx)("label",{children:"Key Facts & Statistics"}),(0,r.jsx)("textarea",{value:c.facts,onChange:e=>h("facts",e.target.value),placeholder:"GDP, Population, Government type...",className:s.default.textarea})]}),(0,r.jsxs)("div",{className:s.default.formGroup,children:[(0,r.jsx)("label",{children:"Foreign Policy Stances"}),(0,r.jsx)("textarea",{value:c.policy,onChange:e=>h("policy",e.target.value),placeholder:"Stance on human rights, trade, security...",className:s.default.textarea})]}),(0,r.jsxs)("div",{className:s.default.formGroup,children:[(0,r.jsx)("label",{children:"Key Alliances"}),(0,r.jsx)("textarea",{value:c.allies,onChange:e=>h("allies",e.target.value),placeholder:"NATO, EU, Commonwealth...",className:s.default.textarea})]}),(0,r.jsxs)("div",{className:s.default.formGroup,children:[(0,r.jsx)("label",{children:"Potential Conflicts"}),(0,r.jsx)("textarea",{value:c.conflicts,onChange:e=>h("conflicts",e.target.value),placeholder:"Border disputes, trade wars...",className:s.default.textarea})]})]}),(0,r.jsx)("div",{className:s.default.actions,children:(0,r.jsx)("button",{onClick:g,className:s.default.saveBtn,disabled:u,children:u?"Saving...":"Save Profile"})})]})})]})}e.s(["default",()=>c])}]);