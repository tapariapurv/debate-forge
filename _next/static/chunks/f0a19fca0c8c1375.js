(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81866,e=>{e.v({actions:"TopBar-module__LYwH0W__actions",avatar:"TopBar-module__LYwH0W__avatar",header:"TopBar-module__LYwH0W__header",logoutBtn:"TopBar-module__LYwH0W__logoutBtn",title:"TopBar-module__LYwH0W__title",userProfile:"TopBar-module__LYwH0W__userProfile",username:"TopBar-module__LYwH0W__username"})},57981,e=>{"use strict";var r=e.i(43476),t=e.i(58652),a=e.i(81866);function o({title:e}){let{user:o,logout:d}=(0,t.useAuth)();return(0,r.jsxs)("header",{className:`${a.default.header} glass`,children:[(0,r.jsx)("div",{className:a.default.title,children:(0,r.jsx)("h1",{children:e})}),(0,r.jsxs)("div",{className:a.default.actions,children:[(0,r.jsxs)("div",{className:a.default.userProfile,children:[(0,r.jsx)("img",{src:o?.photoURL||"https://ui-avatars.com/api/?name=User",alt:"Profile",className:a.default.avatar}),(0,r.jsx)("span",{className:a.default.username,children:o?.displayName||"User"})]}),(0,r.jsx)("button",{onClick:d,className:a.default.logoutBtn,children:"Sign Out"})]})]})}e.s(["default",()=>o])},85001,e=>{"use strict";var r=e.i(21052);e.i(36180);var t=e.i(98925);let a="projects",o=async(e,o)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,a),{userId:e,...o,createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error creating project:",e),e}},d=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching projects:",e),e}},l=async e=>{try{let o=(0,t.doc)(r.db,a,e),d=await (0,t.getDoc)(o);if(d.exists())return{id:d.id,...d.data()};throw Error("Project not found")}catch(e){throw console.error("Error fetching project:",e),e}},s=async(e,o)=>{try{let d=(0,t.doc)(r.db,a,e);await (0,t.updateDoc)(d,{...o,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating project:",e),e}},i=async(e,o)=>{try{let d=(0,t.collection)(r.db,a,e,"arguments");return{id:(await (0,t.addDoc)(d,{...o,createdAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error adding argument:",e),e}},c=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a,e,"arguments"),(0,t.orderBy)("createdAt","asc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error getting arguments:",e),e}},n=async(e,o)=>{try{let d=(0,t.doc)(r.db,a,e,"arguments",o);await (0,t.deleteDoc)(d)}catch(e){throw console.error("Error deleting argument:",e),e}},u="mun_profiles",m=async e=>{try{let a=(0,t.doc)(r.db,u,e),o=await (0,t.getDoc)(a);if(o.exists())return o.data();return null}catch(e){throw console.error("Error fetching MUN profile:",e),e}},g=async(e,a)=>{try{let o=(0,t.doc)(r.db,u,e);await (0,t.setDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()},{merge:!0})}catch(e){throw console.error("Error updating MUN profile:",e),e}},h="resolutions",_=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,h),{userId:e,...a,preambulatory:[],operative:[],createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error creating resolution:",e),e}},p=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,h),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching resolutions:",e),e}},f=async e=>{try{let a=(0,t.doc)(r.db,h,e),o=await (0,t.getDoc)(a);if(o.exists())return{id:o.id,...o.data()};throw Error("Resolution not found")}catch(e){throw console.error("Error fetching resolution:",e),e}},w=async(e,a)=>{try{let o=(0,t.doc)(r.db,h,e);await (0,t.updateDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating resolution:",e),e}},y=async e=>{try{let a=(0,t.doc)(r.db,h,e);await (0,t.deleteDoc)(a)}catch(e){throw console.error("Error deleting resolution:",e),e}},j="knowledge",v=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,j),{userId:e,...a,createdAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error adding knowledge item:",e),e}},x=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,j),(0,t.where)("userId","==",e),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching knowledge items:",e),e}},b=async e=>{try{await (0,t.deleteDoc)((0,t.doc)(r.db,j,e))}catch(e){throw console.error("Error deleting knowledge item:",e),e}};e.s(["addArgument",0,i,"addKnowledgeItem",0,v,"createProject",0,o,"createResolution",0,_,"deleteArgument",0,n,"deleteKnowledgeItem",0,b,"deleteResolution",0,y,"getArguments",0,c,"getKnowledgeItems",0,x,"getMUNProfile",0,m,"getProject",0,l,"getResolution",0,f,"getUserProjects",0,d,"getUserResolutions",0,p,"updateMUNProfile",0,g,"updateProject",0,s,"updateResolution",0,w])},64318,e=>{e.v({addBtn:"page-module__3dLQJW__addBtn",badge:"page-module__3dLQJW__badge",card:"page-module__3dLQJW__card",cardHeader:"page-module__3dLQJW__cardHeader",container:"page-module__3dLQJW__container",controls:"page-module__3dLQJW__controls",deleteBtn:"page-module__3dLQJW__deleteBtn",form:"page-module__3dLQJW__form",formGroup:"page-module__3dLQJW__formGroup",grid:"page-module__3dLQJW__grid",high:"page-module__3dLQJW__high",link:"page-module__3dLQJW__link",low:"page-module__3dLQJW__low",medium:"page-module__3dLQJW__medium",meta:"page-module__3dLQJW__meta",row:"page-module__3dLQJW__row",searchBar:"page-module__3dLQJW__searchBar",submitBtn:"page-module__3dLQJW__submitBtn",tag:"page-module__3dLQJW__tag",tags:"page-module__3dLQJW__tags",unverified:"page-module__3dLQJW__unverified"})},12260,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(58652),o=e.i(85001),d=e.i(57981),l=e.i(64318);function s(){let{user:e}=(0,a.useAuth)(),[s,i]=(0,t.useState)([]),[c,n]=(0,t.useState)(!0),[u,m]=(0,t.useState)({title:"",url:"",tags:"",credibility:"High"}),[g,h]=(0,t.useState)(!1),[_,p]=(0,t.useState)(""),f=async()=>{if(e)try{let r=await (0,o.getKnowledgeItems)(e.uid);i(r)}catch(e){console.error(e)}finally{n(!1)}};(0,t.useEffect)(()=>{f()},[e]);let w=async r=>{if(r.preventDefault(),u.title)try{await (0,o.addKnowledgeItem)(e.uid,u),m({title:"",url:"",tags:"",credibility:"High"}),h(!1),f()}catch(e){alert("Error adding item")}},y=async e=>{if(confirm("Delete this item?"))try{await (0,o.deleteKnowledgeItem)(e),f()}catch(e){console.error(e)}},j=s.filter(e=>e.title.toLowerCase().includes(_.toLowerCase())||e.tags.toLowerCase().includes(_.toLowerCase()));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{title:"Knowledge Vault"}),(0,r.jsxs)("div",{className:l.default.container,children:[(0,r.jsxs)("div",{className:l.default.controls,children:[(0,r.jsx)("input",{className:l.default.searchBar,placeholder:"Search resources...",value:_,onChange:e=>p(e.target.value)}),(0,r.jsx)("button",{className:l.default.addBtn,onClick:()=>h(!g),children:g?"Cancel":"+ Add Resource"})]}),g&&(0,r.jsxs)("form",{onSubmit:w,className:`${l.default.form} glass`,children:[(0,r.jsxs)("div",{className:l.default.formGroup,children:[(0,r.jsx)("label",{children:"Title / Description"}),(0,r.jsx)("input",{value:u.title,onChange:e=>m({...u,title:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:l.default.formGroup,children:[(0,r.jsx)("label",{children:"Link (URL)"}),(0,r.jsx)("input",{value:u.url,onChange:e=>m({...u,url:e.target.value}),placeholder:"https://..."})]}),(0,r.jsxs)("div",{className:l.default.row,children:[(0,r.jsxs)("div",{className:l.default.formGroup,children:[(0,r.jsx)("label",{children:"Tags (comma separated)"}),(0,r.jsx)("input",{value:u.tags,onChange:e=>m({...u,tags:e.target.value}),placeholder:"economics, policy, environment..."})]}),(0,r.jsxs)("div",{className:l.default.formGroup,children:[(0,r.jsx)("label",{children:"Credibility"}),(0,r.jsxs)("select",{value:u.credibility,onChange:e=>m({...u,credibility:e.target.value}),children:[(0,r.jsx)("option",{children:"High"}),(0,r.jsx)("option",{children:"Medium"}),(0,r.jsx)("option",{children:"Low"}),(0,r.jsx)("option",{children:"Unverified"})]})]})]}),(0,r.jsx)("button",{type:"submit",className:l.default.submitBtn,children:"Save Resource"})]}),(0,r.jsx)("div",{className:l.default.grid,children:c?(0,r.jsx)("p",{children:"Loading..."}):0===j.length?(0,r.jsx)("p",{className:l.default.empty,children:"No items found."}):j.map(e=>(0,r.jsxs)("div",{className:`${l.default.card} glass`,children:[(0,r.jsxs)("div",{className:l.default.cardHeader,children:[(0,r.jsx)("h3",{children:e.title}),(0,r.jsx)("button",{onClick:()=>y(e.id),className:l.default.deleteBtn,children:"Ã—"})]}),e.url&&(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:l.default.link,children:e.url}),(0,r.jsx)("div",{className:l.default.tags,children:e.tags.split(",").map(e=>e.trim()).filter(Boolean).map(e=>(0,r.jsxs)("span",{className:l.default.tag,children:["#",e]},e))}),(0,r.jsx)("div",{className:l.default.meta,children:(0,r.jsx)("span",{className:`${l.default.badge} ${l.default[e.credibility.toLowerCase()]}`,children:e.credibility})})]},e.id))})]})]})}e.s(["default",()=>s])}]);