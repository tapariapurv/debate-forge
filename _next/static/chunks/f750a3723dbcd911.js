(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81866,e=>{e.v({actions:"TopBar-module__LYwH0W__actions",avatar:"TopBar-module__LYwH0W__avatar",header:"TopBar-module__LYwH0W__header",logoutBtn:"TopBar-module__LYwH0W__logoutBtn",title:"TopBar-module__LYwH0W__title",userProfile:"TopBar-module__LYwH0W__userProfile",username:"TopBar-module__LYwH0W__username"})},57981,e=>{"use strict";var r=e.i(43476),t=e.i(58652),o=e.i(81866);function a({title:e}){let{user:a,logout:d}=(0,t.useAuth)();return(0,r.jsxs)("header",{className:`${o.default.header} glass`,children:[(0,r.jsx)("div",{className:o.default.title,children:(0,r.jsx)("h1",{children:e})}),(0,r.jsxs)("div",{className:o.default.actions,children:[(0,r.jsxs)("div",{className:o.default.userProfile,children:[(0,r.jsx)("img",{src:a?.photoURL||"https://ui-avatars.com/api/?name=User",alt:"Profile",className:o.default.avatar}),(0,r.jsx)("span",{className:o.default.username,children:a?.displayName||"User"})]}),(0,r.jsx)("button",{onClick:d,className:o.default.logoutBtn,children:"Sign Out"})]})]})}e.s(["default",()=>a])},85001,e=>{"use strict";var r=e.i(21052);e.i(36180);var t=e.i(98925);let o="projects",a=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,o),{userId:e,...a,createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error creating project:",e),e}},d=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,o),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching projects:",e),e}},c=async e=>{try{let a=(0,t.doc)(r.db,o,e),d=await (0,t.getDoc)(a);if(d.exists())return{id:d.id,...d.data()};throw Error("Project not found")}catch(e){throw console.error("Error fetching project:",e),e}},s=async(e,a)=>{try{let d=(0,t.doc)(r.db,o,e);await (0,t.updateDoc)(d,{...a,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating project:",e),e}},i=async(e,a)=>{try{let d=(0,t.collection)(r.db,o,e,"arguments");return{id:(await (0,t.addDoc)(d,{...a,createdAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error adding argument:",e),e}},l=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,o,e,"arguments"),(0,t.orderBy)("createdAt","asc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error getting arguments:",e),e}},n=async(e,a)=>{try{let d=(0,t.doc)(r.db,o,e,"arguments",a);await (0,t.deleteDoc)(d)}catch(e){throw console.error("Error deleting argument:",e),e}},u="mun_profiles",m=async e=>{try{let o=(0,t.doc)(r.db,u,e),a=await (0,t.getDoc)(o);if(a.exists())return a.data();return null}catch(e){throw console.error("Error fetching MUN profile:",e),e}},h=async(e,o)=>{try{let a=(0,t.doc)(r.db,u,e);await (0,t.setDoc)(a,{...o,updatedAt:(0,t.serverTimestamp)()},{merge:!0})}catch(e){throw console.error("Error updating MUN profile:",e),e}},g="resolutions",p=async(e,o)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,g),{userId:e,...o,preambulatory:[],operative:[],createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error creating resolution:",e),e}},_=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,g),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching resolutions:",e),e}},w=async e=>{try{let o=(0,t.doc)(r.db,g,e),a=await (0,t.getDoc)(o);if(a.exists())return{id:a.id,...a.data()};throw Error("Resolution not found")}catch(e){throw console.error("Error fetching resolution:",e),e}},y=async(e,o)=>{try{let a=(0,t.doc)(r.db,g,e);await (0,t.updateDoc)(a,{...o,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating resolution:",e),e}},f=async e=>{try{let o=(0,t.doc)(r.db,g,e);await (0,t.deleteDoc)(o)}catch(e){throw console.error("Error deleting resolution:",e),e}},j="knowledge",v=async(e,o)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,j),{userId:e,...o,createdAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error adding knowledge item:",e),e}},x=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,j),(0,t.where)("userId","==",e),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching knowledge items:",e),e}},b=async e=>{try{await (0,t.deleteDoc)((0,t.doc)(r.db,j,e))}catch(e){throw console.error("Error deleting knowledge item:",e),e}};e.s(["addArgument",0,i,"addKnowledgeItem",0,v,"createProject",0,a,"createResolution",0,p,"deleteArgument",0,n,"deleteKnowledgeItem",0,b,"deleteResolution",0,f,"getArguments",0,l,"getKnowledgeItems",0,x,"getMUNProfile",0,m,"getProject",0,c,"getResolution",0,w,"getUserProjects",0,d,"getUserResolutions",0,_,"updateMUNProfile",0,h,"updateProject",0,s,"updateResolution",0,y])},3091,e=>{e.v({card:"page-module__9r2qPG__card",cardHeader:"page-module__9r2qPG__cardHeader",container:"page-module__9r2qPG__container",createBtn:"page-module__9r2qPG__createBtn",deleteBtn:"page-module__9r2qPG__deleteBtn",empty:"page-module__9r2qPG__empty",grid:"page-module__9r2qPG__grid",header:"page-module__9r2qPG__header",meta:"page-module__9r2qPG__meta"})},84840,e=>{"use strict";var r=e.i(43476),t=e.i(71645),o=e.i(58652),a=e.i(85001),d=e.i(22016),c=e.i(57981),s=e.i(3091);function i(){let{user:e}=(0,o.useAuth)(),[i,l]=(0,t.useState)([]),[n,u]=(0,t.useState)(!0),m=async()=>{if(e)try{let r=await (0,a.getUserResolutions)(e.uid);l(r)}catch(e){console.error(e)}finally{u(!1)}};(0,t.useEffect)(()=>{m()},[e]);let h=async()=>{let r=prompt("Enter a title for your resolution (e.g. 'Draft 1.1'):");if(r)try{await (0,a.createResolution)(e.uid,{title:r,committee:"",topic:""}),m()}catch(e){alert("Error creating resolution")}},g=async(e,r)=>{if(r.preventDefault(),confirm("Delete this resolution?"))try{await (0,a.deleteResolution)(e),m()}catch(e){console.error(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.default,{title:"Resolutions"}),(0,r.jsxs)("div",{className:s.default.container,children:[(0,r.jsxs)("div",{className:s.default.header,children:[(0,r.jsx)("h2",{children:"My Resolutions"}),(0,r.jsx)("button",{onClick:h,className:s.default.createBtn,children:"+ New Draft"})]}),n?(0,r.jsx)("p",{children:"Loading..."}):0===i.length?(0,r.jsx)("div",{className:`${s.default.empty} glass`,children:(0,r.jsx)("p",{children:"No resolutions found. Start writing one!"})}):(0,r.jsx)("div",{className:s.default.grid,children:i.map(e=>(0,r.jsxs)(d.default,{href:`/dashboard/mun/resolution/view?id=${e.id}`,className:`${s.default.card} glass`,children:[(0,r.jsxs)("div",{className:s.default.cardHeader,children:[(0,r.jsx)("h3",{children:e.title}),(0,r.jsx)("button",{onClick:r=>g(e.id,r),className:s.default.deleteBtn,children:"Ã—"})]}),(0,r.jsxs)("div",{className:s.default.meta,children:[(0,r.jsx)("span",{children:e.committee||"No Committee"}),(0,r.jsx)("span",{children:new Date(e.updatedAt?.seconds*1e3).toLocaleDateString()})]})]},e.id))})]})]})}e.s(["default",()=>i])}]);