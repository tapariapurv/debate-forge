(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81866,e=>{e.v({actions:"TopBar-module__LYwH0W__actions",avatar:"TopBar-module__LYwH0W__avatar",header:"TopBar-module__LYwH0W__header",logoutBtn:"TopBar-module__LYwH0W__logoutBtn",title:"TopBar-module__LYwH0W__title",userProfile:"TopBar-module__LYwH0W__userProfile",username:"TopBar-module__LYwH0W__username"})},57981,e=>{"use strict";var r=e.i(43476),t=e.i(58652),a=e.i(81866);function o({title:e}){let{user:o,logout:s}=(0,t.useAuth)();return(0,r.jsxs)("header",{className:`${a.default.header} glass`,children:[(0,r.jsx)("div",{className:a.default.title,children:(0,r.jsx)("h1",{children:e})}),(0,r.jsxs)("div",{className:a.default.actions,children:[(0,r.jsxs)("div",{className:a.default.userProfile,children:[(0,r.jsx)("img",{src:o?.photoURL||"https://ui-avatars.com/api/?name=User",alt:"Profile",className:a.default.avatar}),(0,r.jsx)("span",{className:a.default.username,children:o?.displayName||"User"})]}),(0,r.jsx)("button",{onClick:s,className:a.default.logoutBtn,children:"Sign Out"})]})]})}e.s(["default",()=>o])},85001,e=>{"use strict";var r=e.i(21052);e.i(36180);var t=e.i(98925);let a="projects",o=async(e,o)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,a),{userId:e,...o,createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error creating project:",e),e}},s=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching projects:",e),e}},l=async e=>{try{let o=(0,t.doc)(r.db,a,e),s=await (0,t.getDoc)(o);if(s.exists())return{id:s.id,...s.data()};throw Error("Project not found")}catch(e){throw console.error("Error fetching project:",e),e}},i=async(e,o)=>{try{let s=(0,t.doc)(r.db,a,e);await (0,t.updateDoc)(s,{...o,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating project:",e),e}},d=async(e,o)=>{try{let s=(0,t.collection)(r.db,a,e,"arguments");return{id:(await (0,t.addDoc)(s,{...o,createdAt:(0,t.serverTimestamp)()})).id,...o}}catch(e){throw console.error("Error adding argument:",e),e}},c=async e=>{try{let o=(0,t.query)((0,t.collection)(r.db,a,e,"arguments"),(0,t.orderBy)("createdAt","asc"));return(await (0,t.getDocs)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error getting arguments:",e),e}},n=async(e,o)=>{try{let s=(0,t.doc)(r.db,a,e,"arguments",o);await (0,t.deleteDoc)(s)}catch(e){throw console.error("Error deleting argument:",e),e}},u="mun_profiles",m=async e=>{try{let a=(0,t.doc)(r.db,u,e),o=await (0,t.getDoc)(a);if(o.exists())return o.data();return null}catch(e){throw console.error("Error fetching MUN profile:",e),e}},h=async(e,a)=>{try{let o=(0,t.doc)(r.db,u,e);await (0,t.setDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()},{merge:!0})}catch(e){throw console.error("Error updating MUN profile:",e),e}},p="resolutions",_=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,p),{userId:e,...a,preambulatory:[],operative:[],createdAt:(0,t.serverTimestamp)(),updatedAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error creating resolution:",e),e}},g=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,p),(0,t.where)("userId","==",e),(0,t.orderBy)("updatedAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching resolutions:",e),e}},f=async e=>{try{let a=(0,t.doc)(r.db,p,e),o=await (0,t.getDoc)(a);if(o.exists())return{id:o.id,...o.data()};throw Error("Resolution not found")}catch(e){throw console.error("Error fetching resolution:",e),e}},v=async(e,a)=>{try{let o=(0,t.doc)(r.db,p,e);await (0,t.updateDoc)(o,{...a,updatedAt:(0,t.serverTimestamp)()})}catch(e){throw console.error("Error updating resolution:",e),e}},y=async e=>{try{let a=(0,t.doc)(r.db,p,e);await (0,t.deleteDoc)(a)}catch(e){throw console.error("Error deleting resolution:",e),e}},j="knowledge",w=async(e,a)=>{try{return{id:(await (0,t.addDoc)((0,t.collection)(r.db,j),{userId:e,...a,createdAt:(0,t.serverTimestamp)()})).id,...a}}catch(e){throw console.error("Error adding knowledge item:",e),e}},x=async e=>{try{let a=(0,t.query)((0,t.collection)(r.db,j),(0,t.where)("userId","==",e),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching knowledge items:",e),e}},b=async e=>{try{await (0,t.deleteDoc)((0,t.doc)(r.db,j,e))}catch(e){throw console.error("Error deleting knowledge item:",e),e}};e.s(["addArgument",0,d,"addKnowledgeItem",0,w,"createProject",0,o,"createResolution",0,_,"deleteArgument",0,n,"deleteKnowledgeItem",0,b,"deleteResolution",0,y,"getArguments",0,c,"getKnowledgeItems",0,x,"getMUNProfile",0,m,"getProject",0,l,"getResolution",0,f,"getUserProjects",0,s,"getUserResolutions",0,g,"updateMUNProfile",0,h,"updateProject",0,i,"updateResolution",0,v])},37032,e=>{e.v({addBtn:"editor-module__GiquPG__addBtn",clauseItem:"editor-module__GiquPG__clauseItem",clauses:"editor-module__GiquPG__clauses",container:"editor-module__GiquPG__container",controls:"editor-module__GiquPG__controls",field:"editor-module__GiquPG__field",header:"editor-module__GiquPG__header",operativeList:"editor-module__GiquPG__operativeList",paper:"editor-module__GiquPG__paper",removeBtn:"editor-module__GiquPG__removeBtn",saveBtn:"editor-module__GiquPG__saveBtn",section:"editor-module__GiquPG__section",titleDisplay:"editor-module__GiquPG__titleDisplay"})},47745,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(58652),o=e.i(85001),s=e.i(18566),l=e.i(57981),i=e.i(37032);function d(){let e=(0,s.useSearchParams)().get("id"),{user:d}=(0,a.useAuth)(),[c,n]=(0,t.useState)(null),[u,m]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{!async function(){if(d&&e)try{let r=await (0,o.getResolution)(e);n(r)}catch(e){console.error(e)}finally{m(!1)}else e||m(!1)}()},[d,e]);let _=(e,r)=>{n(t=>({...t,[e]:r}))},g=async()=>{p(!0);try{await (0,o.updateResolution)(e,c)}catch(e){alert("Error saving")}finally{p(!1)}},f=e=>{let r=prompt("Enter clause text:");r&&n(t=>({...t,[e]:[...t[e]||[],r]}))},v=(e,r)=>{let t=[...c[e]];t.splice(r,1),n(r=>({...r,[e]:t}))};return u?(0,r.jsx)("div",{children:"Loading..."}):e?c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{title:`Editing: ${c.title}`}),(0,r.jsxs)("div",{className:i.default.container,children:[(0,r.jsx)("div",{className:i.default.controls,children:(0,r.jsx)("button",{onClick:g,disabled:h,className:i.default.saveBtn,children:h?"Saving...":"Save Changes"})}),(0,r.jsxs)("div",{className:`${i.default.paper} glass`,children:[(0,r.jsxs)("div",{className:i.default.header,children:[(0,r.jsxs)("div",{className:i.default.field,children:[(0,r.jsx)("label",{children:"Committee:"}),(0,r.jsx)("input",{value:c.committee,onChange:e=>_("committee",e.target.value),placeholder:"Disarmament and International Security"})]}),(0,r.jsxs)("div",{className:i.default.field,children:[(0,r.jsx)("label",{children:"Topic:"}),(0,r.jsx)("input",{value:c.topic,onChange:e=>_("topic",e.target.value),placeholder:"Cyber Warfare"})]}),(0,r.jsxs)("div",{className:i.default.field,children:[(0,r.jsx)("label",{children:"Sponsors:"}),(0,r.jsx)("input",{value:c.sponsors,onChange:e=>_("sponsors",e.target.value),placeholder:"USA, UK, France"})]}),(0,r.jsxs)("div",{className:i.default.field,children:[(0,r.jsx)("label",{children:"Signatories:"}),(0,r.jsx)("input",{value:c.signatories,onChange:e=>_("signatories",e.target.value),placeholder:"Germany, China, Russia..."})]}),(0,r.jsx)("div",{className:i.default.titleDisplay,children:c.committee})]}),(0,r.jsxs)("div",{className:i.default.section,children:[(0,r.jsx)("h3",{children:"Preambulatory Clauses"}),(0,r.jsx)("div",{className:i.default.clauses,children:(c.preambulatory||[]).map((e,t)=>(0,r.jsxs)("div",{className:i.default.clauseItem,children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("em",{children:e.split(" ")[0]})," ",e.split(" ").slice(1).join(" "),","]}),(0,r.jsx)("button",{onClick:()=>v("preambulatory",t),className:i.default.removeBtn,children:"×"})]},t))}),(0,r.jsx)("button",{onClick:()=>f("preambulatory"),className:i.default.addBtn,children:"+ Add Preambulatory Clause"})]}),(0,r.jsxs)("div",{className:i.default.section,children:[(0,r.jsx)("h3",{children:"Operative Clauses"}),(0,r.jsx)("ol",{className:i.default.operativeList,children:(c.operative||[]).map((e,t)=>(0,r.jsxs)("li",{className:i.default.clauseItem,children:[(0,r.jsxs)("span",{children:[e,";"]}),(0,r.jsx)("button",{onClick:()=>v("operative",t),className:i.default.removeBtn,children:"×"})]},t))}),(0,r.jsx)("button",{onClick:()=>f("operative"),className:i.default.addBtn,children:"+ Add Operative Clause"})]})]})]})]}):(0,r.jsx)("div",{children:"Not found"}):(0,r.jsx)("div",{children:"No resolution ID"})}function c(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(d,{})})}e.s(["default",()=>c])}]);